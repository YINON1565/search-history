{"version":3,"sources":["hooks/storage.hook.tsx","hooks/icon-png.hook.tsx","hooks/util.hook.tsx","hooks/keyboard.hook.tsx","states/search-box.state.tsx","assets/icons/cencel.png","assets/icons/history.png","assets/icons/mag.png","assets/icons/mag-dark.png","assets/icons/trash.png","components/icon-png.component.tsx","hooks/crud.hook.tsx","components/search-preview.component.tsx","components/search-list.component.tsx","components/text-input.component.tsx","components/form-search.component.tsx","components/search-box.component.tsx","App.tsx","styles/setup/variables.jss.tsx","reportWebVitals.js","index.tsx"],"names":["key","IconPngUrlModel","cleanStr","str","toLowerCase","trim","_keyupHandling","ev","resetSelf","isSearchBoxFocusState","atom","default","effects_UNSTABLE","onSet","isSearchBoxFocus","window","addEventListener","removeEventListener","termInputState","historySearchesState","setSelf","savedValue","localStorage","getItem","JSON","parse","newValue","DefaultValue","removeItem","setItem","stringify","sameSearchIdxState","selector","get","termInput","RegExp","findIndex","historySearch","allSearchesState","allSearchesfilteredState","allSearches","filter","search","includes","filterByTerm","splice","IconPngUrl","name","url","Cencel","History","Mag","MagDark","Trash","IconPng","classes","useStyles","className","src","alt","createUseStyles","padding","saveItem","arr","index","newItem","_addItem","_jumpItemTopList","slice","SearchPreview","historySearchIndex","useRecoilState","historySearches","setHistorySearches","useRecoilValue","setIsSearchBoxFocus","useSetRecoilState","theme","useTheme","onClick","stopPropagation","_boldAutocomplatePipe","cursor","color","variables","display","alignItems","justifyContent","height","transition","backgroundColor","splitter","term","cleanTerm","replace","split","map","partSearch","i","SearchList","borderBlockStart","animation","maxHeight","TextInput","onInputChange","type","autoComplete","value","onChange","target","width","border","outline","caretColor","fontSize","FormSearch","sameSearchIdx","setTermInput","onSetTermInput","onSubmit","preventDefault","length","overflow","position","top","left","borderRadius","radius","textTransform","primary","SearchBox","allSearchesfiltered","toggleFocus","isSearchBox","paddingBlockStart","background","boxShadow","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fa0b117d.chunk.js","sourcesContent":["import { AtomEffect, DefaultValue } from \"recoil\";\r\n\r\nexport const localStorageEffect: <T>(key: string) => AtomEffect<T> =\r\n(key: string) =>\r\n({ setSelf, onSet }) => {\r\n  const savedValue = localStorage.getItem(key);\r\n  \r\n  if (savedValue != null) {\r\n    setSelf(JSON.parse(savedValue));\r\n  }\r\n\r\n  onSet((newValue) => {\r\n    if (newValue instanceof DefaultValue) {\r\n      localStorage.removeItem(key);\r\n    } else {\r\n      localStorage.setItem(key, JSON.stringify(newValue));\r\n    }\r\n  });\r\n};\r\n","import historyIcon from \"../assets/icons/history.png\";\r\nimport trashIcon from \"../assets/icons/trash.png\";\r\nimport cencelIcon from \"../assets/icons/cencel.png\";\r\nimport magDarkIcon from \"../assets/icons/mag-dark.png\";\r\nimport magIcon from \"../assets/icons/mag.png\";\r\n\r\nexport enum IconPngUrlModel {\r\n  Cencel = \"cencel\",\r\n  History = \"history\",\r\n  MagDark = \"mag-dark\",\r\n  Trash = \"trash\",\r\n  Mag = \"mag\",\r\n}\r\n\r\nexport const IconPngUrl = (name: IconPngUrlModel): string => {\r\n  let url: string;\r\n  switch (name) {\r\n    case IconPngUrlModel.Cencel:\r\n      url = cencelIcon;\r\n      break;\r\n    case IconPngUrlModel.History:\r\n      url = historyIcon;\r\n      break;\r\n    case IconPngUrlModel.Mag:\r\n      url = magIcon;\r\n      break;\r\n    case IconPngUrlModel.MagDark:\r\n      url = magDarkIcon;\r\n      break;\r\n    case IconPngUrlModel.Trash:\r\n      url = trashIcon;\r\n      break;\r\n  }\r\n  return url;\r\n};\r\n","// ******* function Helpers *********\r\nconst isSame = (str_1: string, str_2: string) => {\r\n  return str_1 === cleanStr(str_2);\r\n};\r\n\r\nconst cleanStr = (str: string) => {\r\n  return str.toLowerCase().trim();\r\n};\r\n\r\nconst filterByTerm = (allSearches: string[], termInput: string) => {\r\n  // Todo: Improving performance by stopping filtering after total items\r\n  return allSearches.filter((search) => search.includes(termInput));\r\n};\r\n\r\nexport {\r\n  cleanStr,\r\n  filterByTerm,\r\n  isSame\r\n};\r\n","import { AtomEffect } from \"recoil\";\r\n\r\nexport const keyupHandlingEffect: <T>() => AtomEffect<T> =\r\n  () =>\r\n  ({ onSet, resetSelf }) => {\r\n    onSet((isSearchBoxFocus) => {\r\n      isSearchBoxFocus\r\n        ? window.addEventListener(\"keyup\", (ev: KeyboardEvent) => _keyupHandling(ev, resetSelf))\r\n        : window.removeEventListener(\"keyup\", (ev: KeyboardEvent) => _keyupHandling(ev, resetSelf));\r\n    });\r\n  };\r\n\r\nconst _keyupHandling = (ev: KeyboardEvent, resetSelf: () => void) => {\r\n  if (ev.key === \"Escape\") {\r\n    resetSelf();\r\n  }\r\n};\r\n","import { atom, selector } from \"recoil\";\r\nimport { cleanStr, filterByTerm, isSame } from \"../hooks/util.hook\";\r\nimport { localStorageEffect } from \"../hooks/storage.hook\";\r\nimport { keyupHandlingEffect } from \"../hooks/keyboard.hook\";\r\n\r\n// ******* Configurations *********\r\nconst HISTORY_SEARCHES_STOREAGE_KEY = \"history-searches\";\r\n\r\n// ******* Atoms *********\r\nconst isSearchBoxFocusState = atom<boolean>({\r\n  key: \"isSearchBoxFocusState\",\r\n  default: false,\r\n  effects_UNSTABLE: [keyupHandlingEffect()],\r\n});\r\n\r\nconst termInputState = atom<string>({\r\n  key: \"termInputState\",\r\n  default: \"\",\r\n});\r\n\r\nconst searchSuggestionsState = atom<string[]>({\r\n  key: \"searchSuggestions\",\r\n  default: [], // \"Lorem ipsum dolor sit amet dicta minima possimus magni voluptas!\".split(\" \").map(str => _cleanStr(str))\r\n});\r\n\r\nconst historySearchesState = atom<string[]>({\r\n  key: \"historySearchesState\",\r\n  default: [],\r\n  effects_UNSTABLE: [localStorageEffect<string[]>(HISTORY_SEARCHES_STOREAGE_KEY)],\r\n});\r\n// ******* End => Atoms *********\r\n\r\n// ******* Selectors *********\r\nconst termInputAsRegexState = selector({\r\n  key: \"termInputAsRegexState\",\r\n  get: ({ get }) => {\r\n    const termInput = get(termInputState);\r\n    return new RegExp(termInput, \"i\");\r\n  },\r\n});\r\n\r\nconst sameSearchIdxState = selector({\r\n  key: \"isTermInputExistState\",\r\n  get: ({ get }) => {\r\n    const termInput = get(termInputState);\r\n    return termInput\r\n      ? get(historySearchesState).findIndex((historySearch) =>\r\n          isSame(historySearch, termInput)\r\n        )\r\n      : -1;\r\n  },\r\n});\r\n\r\nconst allSearchesState = selector({\r\n  key: \"allSearchesState\",\r\n  get: ({ get }) => {\r\n    const historySearches = get(historySearchesState);\r\n    return historySearches;\r\n    // **** Exclude from comment, if you want support for suggested searches ****\r\n    // Todo: Need to improve performance\r\n    // return [...historySearches, ...(get(searchSuggestionsState).filter(searchSuggestion => !historySearches.some(historySearch => historySearch === searchSuggestion)))];\r\n  },\r\n});\r\n\r\nconst allSearchesfilteredState = selector({\r\n  key: \"allSearchesfilteredState\",\r\n  get: ({ get }) => {\r\n    const termInput = cleanStr(get(termInputState));\r\n    const allSearches = JSON.parse(JSON.stringify(get(allSearchesState)));\r\n    const allSearchesFiltered = termInput\r\n      ? filterByTerm(allSearches, termInput)\r\n      : allSearches;\r\n    return allSearchesFiltered.splice(0, 10);\r\n  },\r\n});\r\n\r\n// ******* End => Selectors *********\r\n\r\n// interface Search {\r\n//   _id : string,\r\n//   term: string,\r\n//   counter : number,\r\n//   lastAt : number\r\n// }\r\n\r\nexport {\r\n  // atoms\r\n  isSearchBoxFocusState,\r\n  termInputState,\r\n  searchSuggestionsState,\r\n  historySearchesState,\r\n  // selectors\r\n  termInputAsRegexState,\r\n  sameSearchIdxState,\r\n  allSearchesState,\r\n  allSearchesfilteredState,\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAADAAAAAATDPpdAAAA1klEQVQoFW2RMRKCMBBFsyk8ABdwRqHiKlhB5/msxELlBNrZUyhaeAEOYMHKY2aZTIZtEvLf/2w2crk9HyryTZNsn+fycwvVtrp6991BVNce2KlWn76rEWKeMzQYWE+yiFxVdRebDEaDmVgSY2GbZBXnBBjMGS0LAhWZGnHiBh0Kkg2Gmw2B6TSmFnx78c0mSctwGB4hLJKt1Klt53U2WEu0QfLYSsOf4kFMBoPtgrQx9l0uTU9iOLzgkibn++vIo8TTsKZDkxOpPc/NJkw2mJUJocHA/gHCYsackP1BvgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAD6ADAAQAAAABAAAADwAAAAAHNtsJAAAByUlEQVQoFZ1TOy9EURCeOYuQLRBWIqqtBBER667K4w+o1k2oSLw2foCCSiIiaq9IRCe5u39ARVTsUohEqxAF4tWIhD1jvsu9ubZjijtnZr7vzOtcpoiIiNnKn7mqR4mpl4QaVD+qLjLz/mwm5am2AYWDw453kfyg95wQ9TDTvRAfkcg9MTcxyaAIqabzSqoemXK7rsEz+PhEfj8h4k41F9sanZbaeP2UIb5NSPM4bPgR/1Ac8OAZlIqMJFwXM6Z/zk0vDw3x5+vb84AlWXmI3fXBhh9x4PwKlffdo5YqJEszmdQpboTEhP2qTEmb+BHEgUNrmA0yj6HH9oSzGoCgrU7G1zHtNiLA+TPRoWpblMJwUFoEQ2xLYcaoHzh/mLoN468DUy0XQ29wccmubuaL3b/CwOsakfkR6/gVVCObSR9ocEKPSbG2uJErrIUY4JWHzEXs8fBQKsLgzyHrOntVFG8V5l3tfNjzbmqAAx68CrwcKzJ89VCYV85y+QWTbseT+qYD/7p3uqDnJqM8xp43c4UCHgD2GF1XQAj0dv4sXbL2mEgusyOOoxewxZMjlhcEcHN5C7Dh94mKAx68cB3/edshGaWhhb/8VV9Jo/l7m9axfwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAD6ADAAQAAAABAAAADwAAAAAHNtsJAAACAUlEQVQoFYVTTWgTURCembQUpIq2l2pqWyp48eJFir1Iod56DkLWf5BeNBhRbBroVsiKoq0b9FCwUrSx0IuoeC7oRVA0QkXx7s9BbIJFs5p94/e2JkTUdC7v7cz3fe9982aZGsK9sdheKgcnVHmYlLqJaRXllyQ05485zxqg0ZZriXSuMBSS3lLVPuQ+MfMr7LuYeBeRCjFPb9kWz7pHhyo1TovdpLz5karqA1Z920K8dyrrPK0B7G1Wyj9yqpRe+fB+NwT3Q1htnU9PLXaE34LX2H/siHcPNirXBOya8grH1ZibTHLSzyav25yAOAZvncSth/5HtEA/k5zFiY+U9KI783BDRIaXEfgq5scPLNtE0xC6A//tpc/lfRYn6Fgv1hdNSb+LGuM1HHOfTQmcV/Asm+3HesGhRjhDHHVcQFiG5z3rEaN6uIZjNpFFEdLbaH//KW/+cDOBc5fub8QhZ2HzzbXzyecWK9MZZxZNW8LL+SlvYeBfAra7QfXrYzSrR0iO1N/Zgs9cKfT+rJgliPQwaR5dvNca21Ssht+3GgoHjDETqPUT5paFJ/yMc8Hy6uMZTVIpuKzEoxZki/VgeifMxzBlo7DoEIubH09O/gkCOn11YXs10GHcIM5GVymmxcEdbU8SiUToqsqXXGEO1z8IsexfZPCbRiTg3Z3Bf7DzF/7Xylx5n55wAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEaADAAQAAAABAAAAEQAAAACOk5MBAAACQUlEQVQ4EZ1TMWhTURS99+dXxUJsabE6KShia9Oli2AMQUG6lVgkQymGDnUxIQXp/AcRhCJCdGhxELooqQYFQdQhQ1TUwcFUHRzUIKjEQsVCY37e9Z6fvloLxuIdcv9797yT+849j2lDHEum99V9GhWRKAntIubvCikT03zpVu7RBniwZLs5MTHTtvBt4SIbSQuJy8Q1YfnMwjt03QGc7pXcraGx4o3L7+05ZAc/IHhdfXWPjJlUZCXEoeHdblf48e0re0uFXGcbORGluKNkUb/WeBFLZntxzkbQyZGRzCUQ6CLvut3jxbz3wwLW5+hIelyMXGPmd264a6B43VtBPQQNjE9zWvigBEN/IwD445vnL/f0Hd6peg2Z2spS5e2zJ9h3AhFVA4ecbCsCgBHb27dMqdiLxHK6uaMkmAJE7Al13rebrfKDuellrT8kkf54KhsI7mCMmEI+7/1sdXh9zWGpYM3L0oPswAcYIxabDTFNvN8IPBSMuAwfxBOZ/k2TMB1VCarHBzq+4Ix2QvP4qJOcR/5XxBLpUdXjoOIKnucZ4B1YGU4kkmH4oBVJ7NRkxDDNYBDq3AsWGzgWVkZ7MFL0ZObqibFz7RZgMzowDf+pThO18oFw7ydbW3s7sHKj7t/Vae0PfKBjxBQgoqgGuAI6AIFqOMhMhb7uSHJ29kx9jQSs8ZS3rb60eJbZpETo0O9/4qp+F3AFdKDv7KbWE5boDxJ7CBlGgg8wRkzBioja6oNdJWLV6D+jSVTO6RW//gJDQfPVtTFzkgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAYAAAAmlE46AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADqADAAQAAAABAAAAEAAAAABiIBAZAAABTklEQVQoFe1TwStEYRCf3/c+FjcHsjggUspFe5SzFOXixCaRm79AOborRXLiyGG1B25iXSQXVq1euNg9aJ/bbs9635hv7SuvEM7mMjO/3/xmmq/5QB8sm+V613O3wDzFxA2WAlBiwl5HY+98IoFKWK7DwPo7z10gNkkGbkBUqHFtFiuU3XPJ12sYIX162wOHBkzgtBCCSWN4XEHPkTKPtgiGOgM22zI6Da328cpFrfUVUie5vPDxsNOPPCivlaNm2fAqMw8pOGuyW7PE19EGPCicZzhYkp0vCWpZViE6yOR22NB0rCnWPproCneLaA8vHuJ+yc9D0e7EcP+MirC/SP6F3zzWnx/n/VYZHhGTX/YXU5nc/WeDhOu2ODOK1leFStNGUEFS0BXRf2lyNc9Su2kLqpdjg6Mzt/Ul4BFDVP1OFosYyK9jOh4b6Xuy+Bul3X1R66Z2qgAAAABJRU5ErkJggg==\"","import { createUseStyles } from \"react-jss\";\r\nimport { IconPngUrl, IconPngUrlModel } from \"../hooks/icon-png.hook\";\r\n\r\nexport const IconPng = ({ name }: { name: IconPngUrlModel }) => {\r\n  const classes = useStyles();\r\n  return <img className={classes['icon-png']} src={IconPngUrl(name)} alt={name} />;\r\n};\r\n\r\nconst useStyles = createUseStyles({\r\n  \"icon-png\": {\r\n    padding: \"0 24px\",\r\n  },\r\n});\r\n","import { cleanStr } from \"./util.hook\";\r\n\r\nconst saveItem = (arr: string[], index: number, newItem: string) => {\r\n  return index === -1\r\n    ? _addItem(arr, newItem)\r\n    : _jumpItemTopList(arr, index, newItem);\r\n};\r\n\r\nconst removeItem = (arr: string[], index: number) => {\r\n  return [...arr.slice(0, index), ...arr.slice(index + 1)];\r\n};\r\n\r\nconst _addItem = (arr: string[], newItem: any) => {\r\n  return [cleanStr(newItem), ...arr];\r\n};\r\n\r\nconst _jumpItemTopList = (arr: string[], index: number, newItem: any) => {\r\n  return [newItem, ...arr.slice(0, index), ...arr.slice(index + 1)];\r\n};\r\n\r\nexport {\r\n  saveItem,\r\n  removeItem,\r\n};\r\n","import React from \"react\";\r\n\r\nimport {\r\n  historySearchesState,\r\n  isSearchBoxFocusState,\r\n  termInputState,\r\n} from \"../states/search-box.state\";\r\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\r\nimport { IconPngUrlModel } from \"../hooks/icon-png.hook\";\r\nimport { IconPng } from \"./icon-png.component\";\r\nimport { createUseStyles, useTheme } from \"react-jss\";\r\nimport { ThemeModel } from \"../App\";\r\nimport { cleanStr } from \"../hooks/util.hook\";\r\nimport { removeItem, saveItem } from \"../hooks/crud.hook\";\r\n\r\nexport const SearchPreview = ({\r\n  historySearch,\r\n  historySearchIndex,\r\n}: SearchPreviewType) => {\r\n  // Recoil state\r\n  const [historySearches, setHistorySearches] =\r\n    useRecoilState(historySearchesState);\r\n  const termInput = useRecoilValue(termInputState);\r\n  const setIsSearchBoxFocus = useSetRecoilState(isSearchBoxFocusState);\r\n\r\n  // Events\r\n  const onRemoveHistorySearch = (ev: React.SyntheticEvent) => {\r\n    ev.stopPropagation();\r\n    setHistorySearches(removeItem(historySearches, historySearchIndex));\r\n  };\r\n\r\n  const onSelectSearch = (ev: React.SyntheticEvent) => {\r\n    ev.stopPropagation();\r\n    setHistorySearches(\r\n      saveItem(historySearches, historySearchIndex, historySearch)\r\n    );\r\n    setIsSearchBoxFocus(false);\r\n  };\r\n\r\n  // Style\r\n  const theme: ThemeModel = useTheme();\r\n  const classes = useStyles({ theme });\r\n\r\n  // HTML\r\n  return (\r\n    <li className={classes[\"search-preview\"]} onClick={onSelectSearch}>\r\n      <section className=\"flex a-center\">\r\n        {/* Todo: if is searchSuggestions show mag icon */}\r\n        <IconPng name={IconPngUrlModel.History} />\r\n        <span>\r\n          {termInput\r\n            ? _boldAutocomplatePipe(historySearch, termInput)\r\n            : historySearch}\r\n        </span>\r\n      </section>\r\n      {/* Todo: show trash img only if is historySerches but not if is searchSuggestions */}\r\n      <button className=\"pointer\" onClick={onRemoveHistorySearch}>\r\n        <IconPng name={IconPngUrlModel.Trash} />\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles((theme: ThemeModel) => ({\r\n  \"search-preview\": {\r\n    cursor: \"pointer\",\r\n    color: theme.variables[\"grey-8\"],\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    height: 31,\r\n    transition: \"background-Color .3s\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#00000005\",\r\n    },\r\n  },\r\n}));\r\n\r\ninterface SearchPreviewType {\r\n  historySearch: string;\r\n  historySearchIndex: number;\r\n}\r\n\r\n// Helpers\r\nconst splitter = \"#%%#@#\";\r\n\r\nconst _boldAutocomplatePipe = (search: string, term: string): JSX.Element[] => {\r\n  const cleanTerm = cleanStr(term);\r\n  return search\r\n    .replace(cleanTerm, splitter + cleanTerm + splitter)\r\n    .split(splitter)\r\n    .map((partSearch, i) => {\r\n      return partSearch === cleanTerm ? (\r\n        <span key={i}>{cleanTerm}</span>\r\n      ) : (\r\n        <b key={i}>{partSearch}</b>\r\n      );\r\n    });\r\n};\r\n","import { SearchPreview } from \"./search-preview.component\";\r\nimport { ThemeModel } from \"../App\";\r\nimport { createUseStyles, useTheme } from \"react-jss\";\r\n\r\nexport const SearchList = ({\r\n  historySearches,\r\n}: {\r\n  historySearches: string[];\r\n}) => {\r\n  // Style\r\n  const theme: ThemeModel = useTheme();\r\n  const classes = useStyles({ theme });\r\n\r\n  return (\r\n    <ul className={classes[\"search-list\"]}>\r\n      {historySearches.map((historySearch, index) => {\r\n        return (\r\n          <SearchPreview\r\n            key={index}\r\n            historySearch={historySearch}\r\n            historySearchIndex={index}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles((theme: ThemeModel) => ({\r\n  \"search-list\": {\r\n    borderBlockStart: `1px solid ${theme.variables[\"grey-2\"]}`,\r\n    animation: \"fade 0.5s, collaps 0.2s\",\r\n    maxHeight: theme.variables[\"search-list\"],\r\n    padding: \"16px 0\",\r\n  },\r\n}));\r\n","import { createUseStyles, useTheme } from \"react-jss\";\r\nimport { ThemeModel } from \"../App\";\r\n\r\nexport const TextInput = ({ onInputChange, term }: TextInputType) => {\r\n  const theme: ThemeModel = useTheme();\r\n  const classes = useStyles({ theme });\r\n  return (\r\n    <input\r\n      className={classes[\"custon-input\"]}\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      value={term}\r\n      onChange={(ev) => onInputChange(ev.target.value)}\r\n    />\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles((theme: ThemeModel) => ({\r\n  \"custon-input\": {\r\n    height: theme.variables[\"default-el-height\"],\r\n    width: \"100%\",\r\n    border: \"none\",\r\n    outline: \"none\",\r\n    color: \"#12263F\",\r\n    caretColor: \"#212121\",\r\n    fontSize: 15,\r\n  },\r\n}));\r\n\r\ninterface TextInputType {\r\n  onInputChange: (term: string) => void;\r\n  term: string;\r\n}\r\n","import { TextInput } from \"./text-input.component\";\r\n\r\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\r\nimport {\r\n  historySearchesState,\r\n  isSearchBoxFocusState,\r\n  sameSearchIdxState,\r\n  termInputState,\r\n} from \"../states/search-box.state\";\r\nimport { IconPngUrlModel } from \"../hooks/icon-png.hook\";\r\nimport { IconPng } from \"./icon-png.component\";\r\nimport { createUseStyles, useTheme } from \"react-jss\";\r\nimport { ThemeModel } from \"../App\";\r\nimport { saveItem } from \"../hooks/crud.hook\";\r\nexport const FormSearch = () => {\r\n  // Recoil state\r\n  const sameSearchIdx = useRecoilValue(sameSearchIdxState);\r\n  const [termInput, setTermInput] = useRecoilState(termInputState);\r\n  const [historySearches, setHistorySearches] =\r\n    useRecoilState(historySearchesState);\r\n  const setIsSearchBoxFocus = useSetRecoilState(isSearchBoxFocusState);\r\n\r\n  // Events\r\n  const onSubmit = (ev: React.SyntheticEvent) => {\r\n    ev.preventDefault();\r\n    if (termInput) {\r\n      setHistorySearches(saveItem(historySearches, sameSearchIdx, termInput));\r\n      setTermInput(\"\");\r\n      setIsSearchBoxFocus(false);\r\n    }\r\n  };\r\n\r\n  const onSetTermInput = (value: string) => {\r\n    setTermInput(value);\r\n    value && setIsSearchBoxFocus(true);\r\n  };\r\n\r\n  // Style\r\n  const theme: ThemeModel = useTheme();\r\n  const classes = useStyles({ theme });\r\n\r\n  // HTML\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <section className={classes[\"controller-area\"]}>\r\n        <IconPng name={IconPngUrlModel.Mag} />\r\n        <TextInput onInputChange={onSetTermInput} term={termInput} />\r\n        {termInput?.length ? (\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => onSetTermInput(\"\")}\r\n            className=\"pointer\"\r\n          >\r\n            <IconPng name={IconPngUrlModel.Cencel} />\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </section>\r\n      <button className={classes[\"submit-button\"]}>search</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles((theme: ThemeModel) => ({\r\n  \"controller-area\": {\r\n    overflow: \"hidden\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  \"submit-button\": {\r\n    cursor: 'pointer',\r\n    height: theme.variables[\"default-el-height\"],\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: \"calc(100% + 16px)\",\r\n    borderRadius: theme.variables.radius,\r\n    width: 102,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    fontSize: 15,\r\n    textTransform: \"capitalize\",\r\n    backgroundColor: theme.variables.primary,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n","\r\nimport React from \"react\";\r\nimport { useRecoilState, useRecoilValue } from \"recoil\";\r\n\r\nimport { SearchList } from \"./search-list.component\";\r\nimport { FormSearch } from \"./form-search.component\";\r\nimport {\r\n  allSearchesfilteredState,\r\n  isSearchBoxFocusState,\r\n} from \"../states/search-box.state\";\r\nimport { createUseStyles, useTheme } from \"react-jss\";\r\nimport { ThemeModel } from \"../App\";\r\n\r\nexport const SearchBox = () => {\r\n  // Recoil state\r\n  const allSearchesfiltered = useRecoilValue(allSearchesfilteredState);\r\n  const [isSearchBoxFocus, setIsSearchBoxFocus] = useRecoilState(\r\n    isSearchBoxFocusState\r\n  );\r\n\r\n  // Events\r\n  const toggleFocus = (\r\n    isSearchBox: boolean,\r\n    ev?: React.MouseEvent<HTMLElement>\r\n  ) => {\r\n    ev && ev.stopPropagation();\r\n    setIsSearchBoxFocus(isSearchBox);\r\n  };\r\n\r\n  // Style\r\n  const theme: ThemeModel = useTheme();\r\n  const classes = useStyles({ theme });\r\n\r\n  // HTML\r\n  return (\r\n    <>\r\n      <section\r\n        onClick={() => toggleFocus(false)}\r\n        className={classes[\"search-box-container\"]}\r\n      >\r\n        <section\r\n          className={`${isSearchBoxFocus ? \"focus\" : \"\"} ${classes[\"search-box\"]}`}\r\n          onClick={(ev: React.MouseEvent<HTMLElement>) => toggleFocus(true, ev)}\r\n        >\r\n          <FormSearch />\r\n          {isSearchBoxFocus && allSearchesfiltered?.length ? (\r\n            <SearchList historySearches={allSearchesfiltered} />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </section>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst useStyles = createUseStyles((theme: ThemeModel) => ({\r\n  \"search-box-container\": {\r\n    height: \"100vh\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    paddingBlockStart: 285,\r\n    backgroundColor: theme.variables.background,\r\n  },\r\n  \"search-box\": {\r\n    backgroundColor: \"#fff\",\r\n    position: \"relative\",\r\n    width: 605,\r\n    height: \"fit-content\",\r\n    borderRadius: theme.variables.radius,\r\n    \"&.focus\": {\r\n      boxShadow: \"0 4px 24px #12263f0f\",\r\n    },\r\n  },\r\n}));\r\n","import { RecoilRoot } from \"recoil\";\nimport { SearchBox } from \"./components/search-box.component\";\nimport { ThemeProvider } from \"react-jss\";\nimport { variables, VariablesModel } from \"./styles/setup/variables.jss\";\n\nconst theme: ThemeModel = {\n  variables,\n};\n\nexport interface ThemeModel {\n  variables: VariablesModel;\n}\n\nfunction App() {\n  return (\n    <RecoilRoot>\n      <ThemeProvider theme={theme}>\n        <SearchBox />\n      </ThemeProvider>\n    </RecoilRoot>\n  );\n}\n\nexport default App;\n","\r\n\r\nexport const variables : VariablesModel = {\r\n    // Color palette Vars\r\n    \"grey-2\": \"#EDF2F9\",\r\n    \"grey-3\": \"#e4ebf6\",\r\n    \"grey-8\": \"#3B516C\",\r\n    \"background\": \"#F4F7FC\",\r\n    \"primary\": \"#2B57F3\",\r\n    // util\r\n    'radius': 6,\r\n    \"default-el-height\": 46,\r\n    \"search-list\": 342,\r\n};\r\n\r\nexport interface VariablesModel {\r\n    \"grey-2\": string,\r\n    \"grey-3\": string,\r\n    \"grey-8\": string,\r\n    \"background\": string,\r\n    \"primary\": string,\r\n    'radius': number,\r\n    \"default-el-height\": number,\r\n    \"search-list\": number,\r\n  }\r\n  \r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}